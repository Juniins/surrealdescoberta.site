(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c8c418e"],{5921:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o}));var s=n("b775");function a(){return Object(s["a"])({url:"/user/finance/product/list",method:"get"})}function r(t){return Object(s["a"])({url:"/user/finance/product/buy",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/user/finance/orders/list",method:"post",data:t})}function o(t,e){return Object(s["a"])({url:"/user/finance/orders/".concat(t,"/takeout"),method:"post",data:e})}},"637f":function(t,e,n){"use strict";n("d3ae")},"8ea3":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-wrap finance-wrap"},[n("van-nav-bar",{staticClass:"header bg-template",attrs:{title:t.$t("message.理财宝"),fixed:"","z-index":"999","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[n("zlink",{attrs:{to:"/m/user/financeList"}},[n("span",{staticClass:"text-white"},[t._v(t._s(t.$t("message.订单记录")))])])]},proxy:!0}])}),n("div",{staticClass:"container"},[n("van-grid",{attrs:{border:!1,"column-num":4}},[n("van-grid-item",[n("div",[t._v(t._s(t.$t("message.总资产")))]),n("div",{staticClass:"mt-2 text-red"},[t._v(t._s(t.formatMoney(t.userMoney.balance)))])]),n("van-grid-item",[n("div",[t._v(t._s(t.$t("message.理财余额")))]),n("div",{staticClass:"mt-2 text-red"},[t._v(t._s(t.formatMoney(t.userMoney.financeBalance)))])]),n("van-grid-item",[n("div",[t._v(t._s(t.$t("message.总收益")))]),n("div",{staticClass:"mt-2 text-red"},[t._v(t._s(t.formatMoney(t.userMoney.totalFinanceProfit||0)))])]),n("van-grid-item",[n("div",[t._v(t._s(t.$t("message.持有收益")))]),n("div",{staticClass:"mt-2 text-red"},[t._v(t._s(t.formatMoney(t.holdingProfit||0)))])])],1)],1),n("div",{staticClass:"container mt-4"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("message.余额转入")))]),n("div",{staticClass:"d-flex"},[n("span",[t._v(t._s(t.currency))]),n("van-field",{attrs:{label:"",placeholder:t.$t("message.please input")},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1),n("div",{staticClass:"d-flex mt-2"},[n("span",[t._v(t._s(t.$t("message.预计收益"))+"：")]),n("span",{staticClass:"text-red"},[t._v(t._s(t.formatMoney(t.calProfit)))])])]),n("div",{staticClass:"container mt-4"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("message.理财产品")))]),n("div",{staticClass:"list"},t._l(t.product_list,(function(e){return n("div",{key:e.id,staticClass:"d-flex item",class:{active:t.product&&t.product.id===e.id},on:{click:function(n){return t.chooseProduct(e)}}},[n("div",{staticClass:"d-flex days justify-center"},[n("div",[n("span",{staticClass:"ft-20 font-bold"},[t._v(t._s(e.days))]),n("span",[t._v(t._s(t.$t("message.天")))])])]),n("div",{staticClass:"flex-full d-flex flex-column align-start"},[n("div",{staticClass:"ft-16"},[n("span",[t._v(t._s(e.name))]),n("span",[t._v(t._s(e.dayRate)+"%")])]),n("div",{staticClass:"mt-1"},[n("span",[t._v(t._s(t.$t("message.手续费"))+t._s(e.feeRate)+"%")]),n("div"),n("span",[t._v(t._s(t.$t("message.最少"))+t._s(t.formatMoney(e.moneyMin)))]),n("div"),n("span",[t._v(t._s(t.$t("message.最多"))+t._s(t.formatMoney(e.moneyMax)))])]),"16"!=t.paramMapAll["SYSTEM_VERSION"]?n("div",{staticClass:"mt-1"},[n("span",[t._v("Free")]),n("span",[t._v(t._s(t.$t("message.等级限制")))])]):t._e()])])})),0),n("van-button",{staticClass:"btn btn-block btn-lg mt-2",attrs:{type:"primary",disabled:t.calProfit<=0},on:{click:function(e){return t.buy()}}},[t._v("\n      "+t._s(t.$t("message.转入"))+"\n    ")])],1)],1)},a=[],r=n("a34a"),i=n.n(r),o=n("5921");function c(t,e,n,s,a,r,i){try{var o=t[r](i),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(s,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(s,a){var r=t.apply(e,n);function i(t){c(r,s,a,i,o,"next",t)}function o(t){c(r,s,a,i,o,"throw",t)}i(void 0)}))}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"MFinanceList",components:{},computed:l(l({},Vuex.mapGetters(["currency","userMoney","dictEnumMapAll","paramMapAll"])),{},{calProfit:function(){return this.money&&this.product?(this.money*this.product.dayRate*this.product.days/100).toFixed(2):0}}),data:function(){return{token:null,holdingProfit:0,money:null,product:null,product_list:[]}},created:function(){this.getToken(),this.getProductList()},methods:{getToken:function(){var t=u(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("common/getToken");case 2:this.token=t.sent.data;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getProductList:function(){var t=this;Object(o["c"])().then((function(e){t.product_list=e.data,t.product=t.product_list[0],t.holdingProfit=e.profit}))},chooseProduct:function(t){this.product=t},buy:function(){var t=this;Object(o["a"])({"X-IDEMPOTENT-TOKEN":this.token,money:this.money,productId:this.product.id}).then((function(e){t.$message.success(t.$t("message.转入成功"))})).finally((function(e){t.getToken()}))}}},v=p,m=(n("637f"),n("2877")),_=Object(m["a"])(v,s,a,!1,null,"4dec9054",null);e["default"]=_.exports},d3ae:function(t,e,n){}}]);