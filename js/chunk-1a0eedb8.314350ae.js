(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a0eedb8"],{"1e51":function(t,e,r){},7938:function(t,e,r){"use strict";r("1e51")},b3eb:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-wrap",staticStyle:{"margin-top":"-1rem"}},[r("van-nav-bar",{staticStyle:{"backdrop-filter":"none"},attrs:{fixed:"","z-index":"999","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[r("span",{staticClass:"text-white",on:{click:function(e){t.is_show_rule=!0}}},[t._v(t._s(t.$t("message.规则说明")))])]},proxy:!0}])}),t.lottery?r("div",{staticClass:"lottery-wrap"},[r("div",{staticClass:"user-money text-white"},[t._v(t._s(t.$t("message.Balance"))+": "+t._s(t.formatMoney(t.userMoney.balance)))]),r("div",{staticClass:"turntable-content"},[r("round-turntable",{ref:"roundTurntable",staticClass:"turntable rotateBg",attrs:{pic:t.lottery.pic?t.getFileViewUrl(t.lottery.pic):null,prizeData:t.prize_list,rotateCircle:t.rotateCircle,duringTime:t.duringTime,turntableStyleOption:t.turntableStyleOption},on:{endRotation:t.endRotation},scopedSlots:t._u([{key:"item",fn:function(e){return[e.item.pic?r("div",{staticClass:"turntable-img"},[r("img",{attrs:{src:t.getFileViewUrl(e.item.pic)}})]):t._e(),r("div",{staticClass:"turntable-name",style:{color:e.item.blockFontColor||"#ffffff"},domProps:{innerHTML:t._s(e.item.name)}})]}}])}),r("img",{staticClass:"pointer",attrs:{src:"/static/mobile/lottery/pointer.png"},on:{click:t.startLottery}})],1),r("div",{staticClass:"text-wrap"},[r("div",{staticClass:"text-content"},[r("div",{domProps:{innerHTML:t._s(t.$t("message.今日免费抽奖次数",{drawTimes:t.getDrawTimes}))}}),"1"===t.paramMapAll["ACT_WHEEL_PAY_OPEN"]?r("div",{domProps:{innerHTML:t._s(t.$t("message.抽奖消耗金额",{payAmount:t.formatMoney(t.paramMapAll["ACT_WHEEL_PAY_AMOUNT"])}))}}):t._e(),"1"===t.paramMapAll["ACT_WHEEL_INVITE_AWARD_OPEN"]?[r("div",{domProps:{innerHTML:t._s(t.$t("message.邀请奖励次数",{number:t.paramMapAll["ACT_WHEEL_INVITE_NUMBER"],times:t.paramMapAll["ACT_WHEEL_INVITE_AWARD_TIMES"]}))}}),r("div",{domProps:{innerHTML:t._s(t.$t("message.直推首充奖励次数",{times:t.paramMapAll["ACT_WHEEL_INVITE_FIRST_RECHARGE_AWARD_TIMES"]}))}})]:t._e(),r("div",{domProps:{innerHTML:t._s(t.$t("message.有效成员",{number:t.userMoney.inviteNumber||0}))}})],2),r("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.getInviteUrl,expression:"getInviteUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn-invite mt-2"},[t._v(t._s(t.$t("message.邀请好友")))])]),r("div",{staticClass:"award-list"},[r("div",{staticClass:"text-white ft-16 mb-2"},[t._v(t._s(t.$t("message.中奖信息")))]),r("van-swipe",{staticStyle:{height:"8.8rem"},attrs:{height:"30",vertical:"",autoplay:1e3,"show-indicators":!1,touchable:!1}},t._l(t.award_list,(function(e,i){return r("van-swipe-item",{key:i,attrs:{loop:""}},[r("div",{staticClass:"d-flex justify-between"},[r("span",[t._v(t._s(e.phone))]),r("span",[t._v(t._s(e.name))])])])})),1)],1)]):r("van-empty",{attrs:{description:t.$t("message.未配置大转盘活动")}}),r("van-dialog",{staticClass:"rich-text",attrs:{id:"notice",title:t.$t("message.规则说明"),width:"90%","close-on-click-overlay":"",close:t.closeRule},model:{value:t.is_show_rule,callback:function(e){t.is_show_rule=e},expression:"is_show_rule"}},[r("div",{staticStyle:{padding:"20px"},domProps:{innerHTML:t._s(t.lottery&&t.lottery.rules)}})])],1)},s=[],n=r("b775");function a(){return Object(n["a"])({url:"/user/lottery/info",method:"post"})}function o(t){return Object(n["a"])({url:"/user/lottery/".concat(t,"/draw"),method:"post"})}function l(t){return Object(n["a"])({url:"/user/lottery/".concat(t,"/award/list"),method:"get"})}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m={name:"MUserWheel",components:{},computed:u(u({},Vuex.mapGetters(["currency","userInfo","userMoney","paramMapAll"])),{},{getInviteUrl:function(){var t=this.paramMapAll["AGENCY_PROMOTION_DOMAIN"]||this.paramMapAll["FRONT_DOMAIN"]||window.location.protocol+"//"+window.location.host;return(t+"/register?codeNumber="+this.userInfo.code).replace(/\/\/register/g,"/register")},getDrawTimes:function(){var t=this.userMoney;return(t.todayDrawTimes>=this.lottery.freeTimes?0:this.lottery.freeTimes-t.todayDrawTimes)+t.drawTimes}}),watch:{},data:function(){return{is_show_rule:!1,loading:!1,lottery:null,prize_list:[],award_list:[],prize:null,cat:0,isAllowClick:!0,rotateCircle:6,duringTime:4.5,turntableStyleOption:{prizeBgColors:[],borderColor:"#ffffff"}}},created:function(){this.getInfo()},methods:{closeRule:function(){this.is_show_rule=!1},getInfo:function(){var t=this;a().then((function(e){t.lottery=e.wheel,t.prize_list=e.prizeList,t.getAwardList(),t.prize_list&&(t.turntableStyleOption.prizeBgColors=t.prize_list.map((function(t){return t.blockBgColor})),setTimeout((function(){t.$refs.roundTurntable&&t.$refs.roundTurntable.init()}),200))}))},getAwardList:function(){var t=this;this.lottery&&l(this.lottery.id).then((function(e){t.award_list=e.data}))},startLottery:function(){var t=this;this.isAllowClick&&(this.isAllowClick=!1,o(this.lottery.id).then((function(e){var r=e.data;null!=r?(t.prize=r,t.$refs.roundTurntable.rotate(r.id)):t.$message.info(t.$t("message.奖品配置错误"))})).catch((function(){t.isAllowClick=!0})))},endRotation:function(){this.prize&&"LOSE"!==this.prize.type?this.$dialog.alert({message:this.$t("message.中奖提示",{title:this.prize.name})}):this.$message.warning(this.$t("message.未中奖提示")),this.isAllowClick=!0},onCopySuccess:function(){this.$dialog.alert({message:this.$t("message.Copy Success")})}}},d=m,f=(r("7938"),r("2877")),_=Object(f["a"])(d,i,s,!1,null,"34320863",null);e["default"]=_.exports}}]);