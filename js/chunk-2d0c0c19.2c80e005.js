(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0c19"],{"42af":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-wrapper"},[s("van-nav-bar",{attrs:{title:e.$t("message.Forget Withdraw Password"),fixed:"","z-index":"999","left-arrow":""},on:{"click-left":function(t){return e.$router.back()}}}),s("div",{staticClass:"m-login-wrap mt-46"},[s("van-form",{on:{submit:e.commit}},[s("van-field",{attrs:{type:"tel",label:e.$t("message.phone")+"("+e.paramMapAll["SMS_PHONE_PREFIX"]+")",placeholder:e.$t("message.phone"),readonly:"",rules:[{required:!0,message:e.$t("message.please input phone")},{pattern:/^\d{5,}$/,message:"Incorrect phone number format",trigger:"blur"}]},model:{value:e.forgetForm.phone,callback:function(t){e.$set(e.forgetForm,"phone",t)},expression:"forgetForm.phone"}}),s("div",{staticClass:"d-flex"},[s("van-field",{attrs:{type:"number",name:e.$t("message.captcha"),label:e.$t("message.captcha"),rules:[{required:!0,message:e.$t("message.please input captcha")}]},scopedSlots:e._u([{key:"button",fn:function(){return[e.time>0?s("van-count-down",{attrs:{time:e.time},on:{change:e.changeTime},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"block text-grey"},[e._v(e._s(e.$t("message.send captcha after",{second:t.seconds})))])]}}],null,!1,198846519)}):s("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return t.stopPropagation(),e.sendCode.apply(null,arguments)}}},[e._v(e._s(e.$t("message.send captcha")))])]},proxy:!0}]),model:{value:e.forgetForm.smsCode,callback:function(t){e.$set(e.forgetForm,"smsCode",t)},expression:"forgetForm.smsCode"}})],1),s("van-field",{attrs:{type:"password",name:e.$t("message.password"),label:e.$t("message.password"),placeholder:e.$t("message.password"),rules:[{required:!0,message:e.$t("message.tips.tip_enter",{tip:e.$t("message.password")})},{pattern:/^.{4,16}$/,message:e.$t("message.withdraw password format error"),trigger:"blur"}]},model:{value:e.forgetForm.password,callback:function(t){e.$set(e.forgetForm,"password",t)},expression:"forgetForm.password"}}),s("van-field",{attrs:{type:"password",name:e.$t("message.confirm password"),label:e.$t("message.confirm password"),placeholder:e.$t("message.confirm password"),rules:[{required:!0,message:e.$t("message.please input confirm password")},{pattern:/^.{4,16}$/,message:e.$t("message.withdraw password format error"),trigger:"blur"}]},model:{value:e.forgetForm.rePassowrd,callback:function(t){e.$set(e.forgetForm,"rePassowrd",t)},expression:"forgetForm.rePassowrd"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{loading:e.loading,small:"",round:"",block:"",type:"danger","native-type":"submit","loading-text":e.$t("message.submitting")}},[e._v("\n                    "+e._s(e.$t("message.submit"))+"\n                ")])],1)],1)],1)],1)},o=[],a=s("ad20");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={name:"M_FrogetTk",components:{},computed:i(i({},Vuex.mapGetters(["userInfo","paramMapAll"])),{},{isPhoneLoginOpen:function(){return"1"===this.paramMapAll["PHONE_LOGIN_OPEN"]}}),data:function(){return{loading:!1,forgetForm:{},time:0}},watch:{},created:function(){this.forgetForm.phone=this.userInfo.phone,this.time=parseInt(Cookies.get("Forget_Code_Countdown_Time"))},methods:{sendCode:function(){var e=this;this.forgetForm.phone?(this.time=6e4,Cookies.set("Forget_Code_Countdown_Time",6e4),Object(a["e"])({phone:this.forgetForm.phone,sendType:"FORGET_TK_PWD_CODE"}).then((function(t){e.$dialog.alert({message:e.$t("message.send captcha success")})})).catch((function(t){e.time=0,Cookies.set("Forget_Code_Countdown_Time",0)}))):this.$dialog.alert({message:this.$t("message.please input phone")})},changeTime:function(e){this.time=1e3*e.seconds+e.milliseconds,Cookies.set("Forget_Code_Countdown_Time",1e3*e.seconds+e.milliseconds)},commit:function(){var e=this;if(this.forgetForm.rePassowrd==this.forgetForm.password){this.loading=!0;var t=Object.assign({},this.forgetForm);this.$store.dispatch("user/forgetTkPwd",t).then((function(){e.loading=!1,e.$toast.success(e.$t("message.Commit Success")),e.$router.back()})).catch((function(){e.loading=!1}))}else this.$toast.fail(this.$t("message.confirm password error"))}}},l=m,p=s("2877"),d=Object(p["a"])(l,r,o,!1,null,"4dcfad1d",null);t["default"]=d.exports}}]);