(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75f02f6e"],{be1b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container2"},[r("van-nav-bar",{staticClass:"header bg-template",staticStyle:{"backdrop-filter":"none"},attrs:{title:e.$t("message.register"),fixed:"","z-index":"999","left-arrow":""},on:{"click-left":function(t){return e.$router.back()}}}),r("div",{staticClass:"m-register-wrap pa-2"},[r("van-form",{on:{submit:e.register}},["1"===e.paramMapAll["INVITE_CODE_OPEN"]?r("van-field",{attrs:{disabled:e.codeNumberReadOnly,label:e.$t("message.Invite Code"),placeholder:e.$t("message.Invite Code"),rules:[{required:"1"===e.paramMapAll["INVITE_CODE_OPEN"],message:e.$t("message.please input invite code")}]},model:{value:e.registerForm.codeNumber,callback:function(t){e.$set(e.registerForm,"codeNumber",t)},expression:"registerForm.codeNumber"}}):e._e(),"1"===e.paramMapAll["USERNAME_OPEN"]?r("van-field",{attrs:{label:e.$t("message.username"),placeholder:e.$t("message.username"),rules:[{required:!e.isPhoneLoginOpen,message:e.$t("message.please input username")},{pattern:/^.{6,14}$/,message:e.$t("message.username format error"),trigger:"blur"}]},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}}):e._e(),"1"===e.paramMapAll["NICKNAME_OPEN"]?r("van-field",{attrs:{label:e.$t("message.nickname"),placeholder:e.$t("message.nickname")},model:{value:e.registerForm.nickName,callback:function(t){e.$set(e.registerForm,"nickName",t)},expression:"registerForm.nickName"}}):e._e(),r("van-field",{attrs:{type:"tel",label:e.$t("message.phone")+"("+e.paramMapAll["SMS_PHONE_PREFIX"]+")",placeholder:e.$t("message.phone"),rules:[{required:!0,message:e.$t("message.please input phone")},{pattern:/^\d{5,}$/,message:e.$t("message.phone format error"),trigger:"blur"}]},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}}),r("van-field",{attrs:{type:"password",name:e.$t("message.password"),label:e.$t("message.password"),placeholder:e.$t("message.password"),rules:[{required:!0,message:e.$t("message.please input password")},{pattern:/^.{6,16}$/,message:e.$t("message.password format error"),trigger:"blur"}]},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("van-field",{attrs:{type:"password",label:e.$t("message.confirm password"),placeholder:e.$t("message.confirm password"),rules:[{required:!0,message:e.$t("message.please input confirm password")},{pattern:/^.{6,16}$/,message:e.$t("message.password format error"),trigger:"blur"}]},model:{value:e.registerForm.rePassowrd,callback:function(t){e.$set(e.registerForm,"rePassowrd",t)},expression:"registerForm.rePassowrd"}}),r("van-field",{attrs:{type:"password",label:e.$t("message.withdraw password"),placeholder:e.$t("message.withdraw password"),rules:[{required:!0,message:e.$t("message.please input withdraw password")},{pattern:/^.{4,16}$/,message:e.$t("message.withdraw password format error"),trigger:"blur"}]},model:{value:e.registerForm.tkPassword,callback:function(t){e.$set(e.registerForm,"tkPassword",t)},expression:"registerForm.tkPassword"}}),e.captchaOpen?r("div",{staticClass:"d-flex"},[r("van-field",{attrs:{type:"number",label:e.$t("message.captcha"),rules:[{required:!0,message:e.$t("message.please input captcha")}]},scopedSlots:e._u([{key:"button",fn:function(){return[r("img",{staticStyle:{height:"24px"},attrs:{src:e.codeImg},on:{click:function(t){return t.stopPropagation(),e.createCode.apply(null,arguments)}}})]},proxy:!0}],null,!1,1880015724),model:{value:e.registerForm.captcha,callback:function(t){e.$set(e.registerForm,"captcha",t)},expression:"registerForm.captcha"}})],1):e._e(),"1"===e.paramMapAll["SMS_OPEN"]&&"1"===e.paramMapAll["SMS_REGISTER_CODE_OPEN"]?r("div",{staticClass:"d-flex"},[r("van-field",{attrs:{type:"number",label:e.$t("message.captcha"),rules:[{required:!0,message:e.$t("message.please input captcha")}]},scopedSlots:e._u([{key:"button",fn:function(){return[e.time>0?r("van-count-down",{attrs:{time:e.time},on:{change:e.changeTime},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"block text-grey"},[e._v(e._s(e.$t("message.send captcha after",{second:t.seconds})))])]}}],null,!1,3681515543)}):r("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return t.stopPropagation(),e.sendCode.apply(null,arguments)}}},[e._v(e._s(e.$t("message.send captcha")))])]},proxy:!0}],null,!1,152034447),model:{value:e.registerForm.smsCode,callback:function(t){e.$set(e.registerForm,"smsCode",t)},expression:"registerForm.smsCode"}})],1):e._e(),r("div",{staticStyle:{margin:"16px"}},[r("van-button",{attrs:{loading:e.loading,small:"",round:"",block:"",type:"primary","native-type":"submit","loading-text":e.$t("message.registering")}},[e._v("\n          "+e._s(e.$t("message.submit"))+"\n        ")]),r("van-button",{staticStyle:{"margin-top":"10px"},attrs:{plain:"",type:"primary",small:"",round:"",block:"",to:"/m/login"}},[e._v(e._s(e.$t("message.Login")))]),e.paramMapAll["SERVICE_ONLINE"]?r("van-button",{staticClass:"mt-2",attrs:{plain:"",type:"primary",icon:"audio",small:"",round:"",block:"",url:e.paramMapAll["SERVICE_ONLINE"]}},[e._v(e._s(e.$t("message.Contact")))]):e._e()],1)],1)],1)],1)},a=[],o=r("a34a"),n=r.n(o),i=r("ad20");function l(e,t,r,s,a,o,n){try{var i=e[o](n),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(s,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(s,a){var o=e.apply(t,r);function n(e){l(o,s,a,n,i,"next",e)}function i(e){l(o,s,a,n,i,"throw",e)}n(void 0)}))}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={name:"M_Register",components:{},computed:p(p({},Vuex.mapGetters(["paramMapAll"])),{},{isPhoneLoginOpen:function(){return"1"===this.paramMapAll["PHONE_LOGIN_OPEN"]}}),data:function(){return{registerForm:{},loading:!1,showCodeNumber:!1,codeNumberReadOnly:!1,captchaOpen:!1,codeImg:null,time:0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.time=parseInt(Cookies.get("Register_Code_Countdown_Time")),this.get_agentNumber(),this.captchaOpen="1"===this.paramMapAll["REGISTER_CAPTCHA_OPEN"],this.captchaOpen&&this.createCode()},methods:{sendCode:function(){var e=this;this.registerForm.phone?(this.time=6e4,Cookies.set("Register_Code_Countdown_Time",6e4),Object(i["e"])({phone:this.registerForm.phone,sendType:"REGISTER_CODE"}).then((function(t){e.$dialog.alert({message:e.$t("message.send captcha success")})})).catch((function(t){e.time=0,Cookies.set("Register_Code_Countdown_Time",0)}))):this.$dialog.alert({message:this.$t("message.please input phone")})},changeTime:function(e){this.time=1e3*e.seconds+e.milliseconds,Cookies.set("Register_Code_Countdown_Time",1e3*e.seconds+e.milliseconds)},createCode:function(){this.codeImg=this.getVerifyCode("LOGIN_CAPTCHA_OPEN")},get_agentNumber:function(){var e=c(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$route.query.codeNumber&&(this.showCodeNumber=!0,this.registerForm["codeNumber"]=this.$route.query.codeNumber,this.codeNumberReadOnly=!0);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=this;if("1"!==this.paramMapAll["USERNAME_OPEN"]&&(this.registerForm.username=this.registerForm.phone),this.registerForm.rePassowrd===this.registerForm.password){if("L_47"===this.paramMapAll["SYSTEM_VERSION"]&&this.registerForm.tkPassword){var t=/^[0-9]+.?[0-9]*$/;if(!t.test(this.registerForm.tkPassword))return void this.$toast.fail(this.$t("message.提款密码必须为数字"))}this.loading=!0;var r=Object.assign({},this.registerForm);this.$store.dispatch("user/register",r).then((function(){e.loading=!1,e.$toast.success(e.$t("message.register success")),e.$router.push({path:"/m/index"})})).catch((function(){e.loading=!1}))}else this.$toast.fail(this.$t("message.confirm password error"))}}},g=d,h=(r("e5b9"),r("2877")),f=Object(h["a"])(g,s,a,!1,null,"42fb3f9a",null);t["default"]=f.exports},e5b9:function(e,t,r){"use strict";r("ee44")},ee44:function(e,t,r){}}]);